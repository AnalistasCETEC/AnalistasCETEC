Primeiro script recebido por Valter no dia 28/06/2024 sobre a atualização de tabelas e carga de dados.

----------------------------------
-- TABELA TBCADFORNECEDORMERENDA
----------------------------------

CREATE TABLE SEGM.TBCADFORNECEDORMERENDA (
       AFNCDM_CNPJ         		VARCHAR2(14) NOT NULL,
       AFNCDM_NOME         		VARCHAR2(100) NOT NULL,
       EFNCDM_LOGRADOURO        VARCHAR2(200),
       CFNCDM_NUMERO         	CHAR(6),
       EFNCDM_COMPLEMENTO       VARCHAR2(100),
       CFNCDM_CEP         		CHAR(8),
	   CFNCDM_UF         		CHAR(2),
	   NFNCDM_BAIRRO         	VARCHAR2(50),
	   NFNCDM_MUNICIPIO         VARCHAR2(100),
	   CFNCDM_FONE				CHAR(11),
       AFNCDM_OBSERVACAO   		VARCHAR2(2000),
       AFNCDM_SITUACAO   		NUMBER (1),	   
       TFNCDMULAT         		DATE NOT NULL
);

COMMENT ON TABLE SEGM.TBCADFORNECEDORMERENDA IS 'Cadastro de fornecedores credenciados';
COMMENT ON COLUMN SEGM.TBCADFORNECEDORMERENDA.AFNCDM_CNPJ IS 'CNPJ do fornecedor';
COMMENT ON COLUMN SEGM.TBCADFORNECEDORMERENDA.AFNCDM_NOME IS 'Nome do fornecedor';
COMMENT ON COLUMN SEGM.TBCADFORNECEDORMERENDA.EFNCDM_LOGRADOURO IS 'Nome do logradouro do endereco do fornecedor';
COMMENT ON COLUMN SEGM.TBCADFORNECEDORMERENDA.CFNCDM_NUMERO IS 'Numero do endereco do fornecedor';
COMMENT ON COLUMN SEGM.TBCADFORNECEDORMERENDA.EFNCDM_COMPLEMENTO IS 'Complemento do endereco do fornecedor';
COMMENT ON COLUMN SEGM.TBCADFORNECEDORMERENDA.CFNCDM_CEP IS 'CEP do endereco do fornecedor';
COMMENT ON COLUMN SEGM.TBCADFORNECEDORMERENDA.CFNCDM_UF IS 'UF do Endereco do fornecedor';
COMMENT ON COLUMN SEGM.TBCADFORNECEDORMERENDA.NFNCDM_BAIRRO IS 'Descricao do bairro do fornecedor';
COMMENT ON COLUMN SEGM.TBCADFORNECEDORMERENDA.NFNCDM_MUNICIPIO IS 'Municipio do endereco do fornecedor';
COMMENT ON COLUMN SEGM.TBCADFORNECEDORMERENDA.CFNCDM_FONE IS 'Telefone do fornecedor';
COMMENT ON COLUMN SEGM.TBCADFORNECEDORMERENDA.AFNCDM_OBSERVACAO IS 'Observacao a respeito do fornecedor';
COMMENT ON COLUMN SEGM.TBCADFORNECEDORMERENDA.AFNCDM_SITUACAO IS 'Situacao do fornecedor - 0 - ativo, 1 - inativo';
COMMENT ON COLUMN SEGM.TBCADFORNECEDORMERENDA.TFNCDMULAT IS 'Data da ultima atualizacao do registro';


ALTER TABLE SEGM.TBCADFORNECEDORMERENDA
       ADD  ( CONSTRAINT PFNCDMCHAVE PRIMARY KEY ( 
	          AFNCDM_CNPJ) ) ;

DROP TABLE SEGM.TBRESPONSAVELFORNECEDOR;

CREATE TABLE SEGM.TBRESPONSAVELFORNECEDOR
(
	AFNCDM_CNPJ          VARCHAR2(14) NOT NULL ,
	AREFORCPF            NUMBER (11) NOT NULL ,
    NREFORNOME           VARCHAR2(100) NOT NULL ,
    NREFORCARGO          VARCHAR2(30) NOT NULL ,
    XREFOREMAIL          VARCHAR2(100) NOT NULL ,
    AREFORCELFONE        NUMBER (11) NOT NULL ,
    AREFORFONE           NUMBER (11),
    CEMPRECODI           NUMBER (2) NOT NULL ,
    AUSUACMATR           NUMBER (7) NOT NULL ,
	AREFORSITUACAO       NUMBER (1) ,
	TREFORULAT           DATE DEFAULT SYSDATE NOT NULL	
);

COMMENT ON TABLE SEGM.TBRESPONSAVELFORNECEDOR IS 'Contem os Responsaveis por um Fornecedor Credenciado';
COMMENT ON COLUMN SEGM.TBRESPONSAVELFORNECEDOR.AFNCDM_CNPJ IS 'CNPJ do Fornecedor Credenciado';
COMMENT ON COLUMN SEGM.TBRESPONSAVELFORNECEDOR.AREFORCPF IS 'Numero do CPF do Responsavel pelo Fornecedor Credenciado';
COMMENT ON COLUMN SEGM.TBRESPONSAVELFORNECEDOR.NREFORNOME IS 'Nome do Responsavel pelo Fornecedor Credenciado';
COMMENT ON COLUMN SEGM.TBRESPONSAVELFORNECEDOR.NREFORCARGO IS 'Cargo do Responsavel pelo Fornecedor  Credenciado';
COMMENT ON COLUMN SEGM.TBRESPONSAVELFORNECEDOR.XREFOREMAIL IS 'Email do Responsavel pelo Fornecedor  Credenciado';
COMMENT ON COLUMN SEGM.TBRESPONSAVELFORNECEDOR.AREFORCELFONE IS 'Celular do Responsavel pelo Fornecedor Credenciado';
COMMENT ON COLUMN SEGM.TBRESPONSAVELFORNECEDOR.AREFORFONE IS 'Telefone do Responsavel pelo Fornecedor Credenciado';
COMMENT ON COLUMN SEGM.TBRESPONSAVELFORNECEDOR.CEMPRECODI IS 'Codigo da Empresa';
COMMENT ON COLUMN SEGM.TBRESPONSAVELFORNECEDOR.AUSUACMATR IS 'Matricula do Usuario';
COMMENT ON COLUMN SEGM.TBRESPONSAVELFORNECEDOR.AREFORSITUACAO IS 'Situacao do Responsavel pelo Fornecedor Credenciado';
COMMENT ON COLUMN SEGM.TBRESPONSAVELFORNECEDOR.TREFORULAT IS 'Data da ultima atualização do registro';

ALTER TABLE SEGM.TBRESPONSAVELFORNECEDOR
	ADD CONSTRAINT  PREFORCHAVE PRIMARY KEY (AFNCDM_CNPJ,AREFORCPF);

ALTER TABLE SEGM.TBRESPONSAVELFORNECEDOR
       ADD  ( CONSTRAINT FNCDM_CONTEM_REFOR
              FOREIGN KEY (AFNCDM_CNPJ)
                      REFERENCES SEGM.TBCADFORNECEDORMERENDA (AFNCDM_CNPJ) ) ;						 

--===================
-- GRANTS DAS TABELAS
--===================
	
GRANT DELETE, SELECT, UPDATE, INSERT ON SEGM.TBCADFORNECEDORMERENDA TO RLDS_SEGM;
GRANT DELETE, SELECT, UPDATE, INSERT ON SEGM.TBCADFORNECEDORMERENDA TO RL_EMAC_SEGM;

GRANT DELETE, SELECT, UPDATE, INSERT ON SEGM.TBRESPONSAVELFORNECEDOR TO RLDS_SEGM;
GRANT DELETE, SELECT, UPDATE, INSERT ON SEGM.TBRESPONSAVELFORNECEDOR TO RL_EMAC_SEGM;


--===================
-- INSERT  AFNCDM_CNPJ
--===================

-- carga SEGM.TBCADFORNECEDORMERENDA
Insert into SEGM.TBCADFORNECEDORMERENDA (AFNCDM_CNPJ, AFNCDM_NOME, EFNCDM_LOGRADOURO, CFNCDM_NUMERO, EFNCDM_COMPLEMENTO, CFNCDM_CEP, CFNCDM_UF, NFNCDM_BAIRRO, NFNCDM_MUNICIPIO, CFNCDM_FONE, AFNCDM_OBSERVACAO, AFNCDM_SITUACAO, TFNCDMULAT) values ('41106188000134', 'GENERAL GOODS LTDA', 'Rua do Hospicio', '194', null, '50060080', 'PE', 'Boa Vista', 'Recife', null, 'Rua Guarabira, 640 galpão 003 Imbiribeira ', 0, sysdate);
Insert into SEGM.TBCADFORNECEDORMERENDA (AFNCDM_CNPJ, AFNCDM_NOME, EFNCDM_LOGRADOURO, CFNCDM_NUMERO, EFNCDM_COMPLEMENTO, CFNCDM_CEP, CFNCDM_UF, NFNCDM_BAIRRO, NFNCDM_MUNICIPIO, CFNCDM_FONE, AFNCDM_OBSERVACAO, AFNCDM_SITUACAO, TFNCDMULAT) values ('11164874000796', 'RC NUTRY ALIMENTACAO LTDA', 'Avenida Marechal Mascarenhas de Moraes', '4930', null, '51150004', 'PE', 'Ibura', 'Recife', null, null, 0, sysdate);


-- carga SEGM.TBRESPONSAVELFORNECEDOR

Insert into SEGM.TBRESPONSAVELFORNECEDOR (AFNCDM_CNPJ,AREFORCPF,NREFORNOME,XREFOREMAIL,NREFORCARGO,AREFORCELFONE,AREFORFONE,TREFORULAT,CEMPRECODI,AUSUACMATR,AREFORSITUACAO) values ('41106188000134','05857223407','Glecia Correia Dias Barbosa','faturamento.recife@ggoods.com.br','Auxiliar Administrativo','81998599568',null,to_date('13/06/2024 13:26:17','DD/MM/YYYY HH24:MI:SS'),'99','15440','0');
Insert into SEGM.TBRESPONSAVELFORNECEDOR (AFNCDM_CNPJ,AREFORCPF,NREFORNOME,XREFOREMAIL,NREFORCARGO,AREFORCELFONE,AREFORFONE,TREFORULAT,CEMPRECODI,AUSUACMATR,AREFORSITUACAO) values ('41106188000134','04858825400','Rosemilton Bezerra Alves','supervisao.recife@ggoods.com.br','Nutricionista Supervisor','81994047450',null,to_date('13/06/2024 13:26:17','DD/MM/YYYY HH24:MI:SS'),'99','15440','0');
Insert into SEGM.TBRESPONSAVELFORNECEDOR (AFNCDM_CNPJ,AREFORCPF,NREFORNOME,XREFOREMAIL,NREFORCARGO,AREFORCELFONE,AREFORFONE,TREFORULAT,CEMPRECODI,AUSUACMATR,AREFORSITUACAO) values ('41106188000134','09778714444','Maria Carolina Crespo da Silva','nutricao.recife@ggoods.com.br','Técnica de Nutrição','81997016704',null,to_date('13/06/2024 13:26:17','DD/MM/YYYY HH24:MI:SS'),'99','15440','0');
Insert into SEGM.TBRESPONSAVELFORNECEDOR (AFNCDM_CNPJ,AREFORCPF,NREFORNOME,XREFOREMAIL,NREFORCARGO,AREFORCELFONE,AREFORFONE,TREFORULAT,CEMPRECODI,AUSUACMATR,AREFORSITUACAO) values ('41106188000134','06095918430','Elizandra dos Santos Silva','coord.producao@ggoods.com.br','Nutricionista Gestora','81994093824',null,to_date('13/06/2024 13:26:17','DD/MM/YYYY HH24:MI:SS'),'99','15440','0');
Insert into SEGM.TBRESPONSAVELFORNECEDOR (AFNCDM_CNPJ,AREFORCPF,NREFORNOME,XREFOREMAIL,NREFORCARGO,AREFORCELFONE,AREFORFONE,TREFORULAT,CEMPRECODI,AUSUACMATR,AREFORSITUACAO) values ('41106188000134','07539485400','Silvya Maria Vieira de Lima','silvya.vieira@ggoods.com.br','Gerente operacional','81992507992',null,to_date('13/06/2024 13:26:17','DD/MM/YYYY HH24:MI:SS'),'99','15440','0');
Insert into SEGM.TBRESPONSAVELFORNECEDOR (AFNCDM_CNPJ,AREFORCPF,NREFORNOME,XREFOREMAIL,NREFORCARGO,AREFORCELFONE,AREFORFONE,TREFORULAT,CEMPRECODI,AUSUACMATR,AREFORSITUACAO) values ('11164874000796','04098903407','Anna Carolina Lima de Almeida','anna.almeida@rcnutryalimentacao.com.br','Gerente','81993934422',null,to_date('15/04/2024 18:12:16','DD/MM/YYYY HH24:MI:SS'),'99','15440','0');
Insert into SEGM.TBRESPONSAVELFORNECEDOR (AFNCDM_CNPJ,AREFORCPF,NREFORNOME,XREFOREMAIL,NREFORCARGO,AREFORCELFONE,AREFORFONE,TREFORULAT,CEMPRECODI,AUSUACMATR,AREFORSITUACAO) values ('11164874000796','05796450450','Fabianne Alves Cardoso Aguiar','fabianne.aguiar@rcnutryalimentacao.com.br','Nutricionista','81998669649',null,to_date('15/04/2024 18:12:16','DD/MM/YYYY HH24:MI:SS'),'99','15440','0');
Insert into SEGM.TBRESPONSAVELFORNECEDOR (AFNCDM_CNPJ,AREFORCPF,NREFORNOME,XREFOREMAIL,NREFORCARGO,AREFORCELFONE,AREFORFONE,TREFORULAT,CEMPRECODI,AUSUACMATR,AREFORSITUACAO) values ('11164874000796','08677242422','Josilea Barbosa Gomes de Souza','josilea.barbosa@rcnutryalimentacao.com.br','Nutricionista','81997089982',null,to_date('15/04/2024 18:12:16','DD/MM/YYYY HH24:MI:SS'),'99','15440','0');
Insert into SEGM.TBRESPONSAVELFORNECEDOR (AFNCDM_CNPJ,AREFORCPF,NREFORNOME,XREFOREMAIL,NREFORCARGO,AREFORCELFONE,AREFORFONE,TREFORULAT,CEMPRECODI,AUSUACMATR,AREFORSITUACAO) values ('11164874000796','09997782429','Ayrla Soares do Nascimento','adm.merendarecife@rcnutryalimentacao.com.br','Administrativo','81998148940',null,to_date('15/04/2024 18:12:16','DD/MM/YYYY HH24:MI:SS'),'99','15440','0');
Insert into SEGM.TBRESPONSAVELFORNECEDOR (AFNCDM_CNPJ,AREFORCPF,NREFORNOME,XREFOREMAIL,NREFORCARGO,AREFORCELFONE,AREFORFONE,TREFORULAT,CEMPRECODI,AUSUACMATR,AREFORSITUACAO) values ('11164874000796','09825256486','Perfil FORNECEDOR','valter.azevedo@educ.rec.br','Administrativo','81999998888',null,to_date('15/04/2024 18:12:16','DD/MM/YYYY HH24:MI:SS'),'99','15440','0');

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

